!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(le){var oe="left",ae="right",ue="up",se="down",ce="in",he="out",pe="none",de="auto",ge="swipe",fe="pinch",we="tap",ve="doubletap",Te="longtap",be="horizontal",Se="vertical",Ee="all",me=10,ye="start",Oe="move",xe="end",Me="cancel",Pe="ontouchstart"in window,Le=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,De=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,Re="TouchSwipe";function i(H,u){var e=Pe||De||!u.fallbackToMouseEvents,t=e?De?Le?"MSPointerDown":"pointerdown":"touchstart":"mousedown",n=e?De?Le?"MSPointerMove":"pointermove":"touchmove":"mousemove",i=e?De?Le?"MSPointerUp":"pointerup":"touchend":"mouseup",r=e?null:"mouseleave",l=De?Le?"MSPointerCancel":"pointercancel":"touchcancel",s=0,c=null,h=0,p=0,d=0,g=1,f=0,w=0,v=null,o=le(H),T="start",b=0,S=null,a=0,E=0,m=0,y=0,O=0,x=null,M=null;try{o.bind(t,P),o.bind(l,D)}catch(e){le.error("events not supported "+t+","+l+" on jQuery.swipe")}function P(e){var t,n,i;if(!0!==o.data(Re+"_intouch")&&!(0<le(e.target).closest(u.excludedElements,o).length))return t=e.originalEvent||e,i=Pe?t.touches[0]:t,T=ye,Pe?b=t.touches.length:e.preventDefault(),w=c=null,g=1,f=d=p=h=s=0,S=function(){for(var e=[],t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}(),(e={})[oe]=N(oe),e[ae]=N(ae),e[ue]=N(ue),e[se]=N(se),v=e,K(),!Pe||b===u.fingers||u.fingers===Ee||A()?(ee(0,i),a=U(),2==b&&(ee(1,t.touches[1]),p=d=re(S[0].start,S[1].start)),(u.swipeStatus||u.pinchStatus)&&(n=R(t,T))):n=!1,!1===n?(R(t,T=Me),n):(u.hold&&(M=setTimeout(le.proxy(function(){o.trigger("hold",[t.target]),u.hold&&(n=u.hold.call(o,t,t.target))},this),u.longTapThreshold)),I(!0),null)}function L(e){var t=e.originalEvent||e;if(T!==xe&&T!==Me&&!$()){var n,i=te(Pe?t.touches[0]:t);if(E=U(),Pe&&(b=t.touches.length),u.hold&&clearTimeout(M),T=Oe,2==b&&(0==p?(ee(1,t.touches[1]),p=d=re(S[0].start,S[1].start)):(te(t.touches[1]),d=re(S[0].end,S[1].end),S[0].end,S[1].end,w=g<1?he:ce),g=(d/p*1).toFixed(2),f=Math.abs(p-d)),b===u.fingers||u.fingers===Ee||!Pe||A()){c=function(e,t){e=function(e,t){var n=e.x-t.x,t=t.y-e.y,e=Math.atan2(t,n),t=Math.round(180*e/Math.PI);t<0&&(t=360-Math.abs(t));return t}(e,t);return e<=45&&0<=e||e<=360&&315<=e?oe:135<=e&&e<=225?ae:45<e&&e<135?se:ue}(i.start,i.end);var r,l,o=e,e=c;if(u.allowPageScroll===pe||A())o.preventDefault();else{var a=u.allowPageScroll===de;switch(e){case oe:(u.swipeLeft&&a||!a&&u.allowPageScroll!=be)&&o.preventDefault();break;case ae:(u.swipeRight&&a||!a&&u.allowPageScroll!=be)&&o.preventDefault();break;case ue:(u.swipeUp&&a||!a&&u.allowPageScroll!=Se)&&o.preventDefault();break;case se:(u.swipeDown&&a||!a&&u.allowPageScroll!=Se)&&o.preventDefault()}}e=i.start,r=i.end,s=Math.round(Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))),h=ie(),r=c,e=s,e=Math.max(e,ne(r)),v[r].distance=e,(u.swipeStatus||u.pinchStatus)&&(n=R(t,T)),u.triggerOnTouchEnd&&!u.triggerOnTouchLeave||(r=!0,u.triggerOnTouchLeave&&(l={left:(l=(e=le(e=this)).offset()).left,right:l.left+e.outerWidth(),top:l.top,bottom:l.top+e.outerHeight()},e=i.end,i=l,r=e.x>i.left&&e.x<i.right&&e.y>i.top&&e.y<i.bottom),!u.triggerOnTouchEnd&&r?T=C(Oe):u.triggerOnTouchLeave&&!r&&(T=C(xe)),T!=Me&&T!=xe)||R(t,T)}else R(t,T=Me);!1===n&&R(t,T=Me)}}function j(e){var t=e.originalEvent;return Pe&&0<t.touches.length?(m=U(),y=event.touches.length+1,!0):($()&&(b=y),E=U(),h=ie(),Y()||!X()?R(t,T=Me):u.triggerOnTouchEnd||0==u.triggerOnTouchEnd&&T===Oe?(e.preventDefault(),R(t,T=xe)):!u.triggerOnTouchEnd&&Z()?k(t,T=xe,we):T===Oe&&R(t,T=Me),I(!1),null)}function D(){d=p=a=E=b=0,K(),I(!(g=1))}function _(e){e=e.originalEvent;u.triggerOnTouchLeave&&R(e,T=C(xe))}function Q(){o.unbind(t,P),o.unbind(l,D),o.unbind(n,L),o.unbind(i,j),r&&o.unbind(r,_),I(!1)}function C(e){var t=e,n=q(),i=X(),r=Y();return!n||r?t=Me:!i||e!=Oe||u.triggerOnTouchEnd&&!u.triggerOnTouchLeave?!i&&e==xe&&u.triggerOnTouchLeave&&(t=Me):t=xe,t}function R(e,t){var n=void 0;return F()&&V()||V()?n=k(e,t,ge):(W()&&A()||A())&&!1!==n&&(n=k(e,t,fe)),J()&&B()&&!1!==n?n=k(e,t,ve):h>u.longTapThreshold&&s<me&&u.longTap&&!1!==n?n=k(e,t,Te):1!==b&&Pe||!(isNaN(s)||s<u.threshold)||!Z()||!1===n||(n=k(e,t,we)),t===Me&&D(),t!==xe||Pe&&0!=e.touches.length||D(),n}function k(e,t,n){var i=void 0;if(n==ge){if(o.trigger("swipeStatus",[t,c||null,s||0,h||0,b,S]),u.swipeStatus&&!1===(i=u.swipeStatus.call(o,e,t,c||null,s||0,h||0,b,S)))return!1;if(t==xe&&F()){if(o.trigger("swipe",[c,s,h,b,S]),u.swipe&&!1===(i=u.swipe.call(o,e,c,s,h,b,S)))return!1;switch(c){case oe:o.trigger("swipeLeft",[c,s,h,b,S]),u.swipeLeft&&(i=u.swipeLeft.call(o,e,c,s,h,b,S));break;case ae:o.trigger("swipeRight",[c,s,h,b,S]),u.swipeRight&&(i=u.swipeRight.call(o,e,c,s,h,b,S));break;case ue:o.trigger("swipeUp",[c,s,h,b,S]),u.swipeUp&&(i=u.swipeUp.call(o,e,c,s,h,b,S));break;case se:o.trigger("swipeDown",[c,s,h,b,S]),u.swipeDown&&(i=u.swipeDown.call(o,e,c,s,h,b,S))}}}if(n==fe){if(o.trigger("pinchStatus",[t,w||null,f||0,h||0,b,g,S]),u.pinchStatus&&!1===(i=u.pinchStatus.call(o,e,t,w||null,f||0,h||0,b,g,S)))return!1;if(t==xe&&W())switch(w){case ce:o.trigger("pinchIn",[w||null,f||0,h||0,b,g,S]),u.pinchIn&&(i=u.pinchIn.call(o,e,w||null,f||0,h||0,b,g,S));break;case he:o.trigger("pinchOut",[w||null,f||0,h||0,b,g,S]),u.pinchOut&&(i=u.pinchOut.call(o,e,w||null,f||0,h||0,b,g,S))}}return n==we?t!==Me&&t!==xe||(clearTimeout(x),clearTimeout(M),B()&&!J()?(O=U(),x=setTimeout(le.proxy(function(){O=null,o.trigger("tap",[e.target]),u.tap&&(i=u.tap.call(o,e,e.target))},this),u.doubleTapThreshold)):(O=null,o.trigger("tap",[e.target]),u.tap&&(i=u.tap.call(o,e,e.target)))):n==ve?t!==Me&&t!==xe||(clearTimeout(x),O=null,o.trigger("doubletap",[e.target]),u.doubleTap&&(i=u.doubleTap.call(o,e,e.target))):n!=Te||t!==Me&&t!==xe||(clearTimeout(x),O=null,o.trigger("longtap",[e.target]),u.longTap&&(i=u.longTap.call(o,e,e.target))),i}function X(){var e=!0;return e=null!==u.threshold?s>=u.threshold:e}function Y(){var e=!1;return e=null!==u.cancelThreshold&&null!==c?ne(c)-s>=u.cancelThreshold:e}function q(){var e=!(u.maxTimeThreshold&&h>=u.maxTimeThreshold);return e}function W(){var e=z(),t=G(),n=null===u.pinchThreshold||f>=u.pinchThreshold;return e&&t&&n}function A(){return u.pinchStatus||u.pinchIn||u.pinchOut}function F(){var e=q(),t=X(),n=z(),i=G();return!Y()&&i&&n&&t&&e}function V(){return u.swipe||u.swipeStatus||u.swipeLeft||u.swipeRight||u.swipeUp||u.swipeDown}function z(){return b===u.fingers||u.fingers===Ee||!Pe}function G(){return 0!==S[0].end.x}function Z(){return u.tap}function B(){return!!u.doubleTap}function J(){var e;return null!=O&&(e=U(),B())&&e-O<=u.doubleTapThreshold}function K(){y=m=0}function $(){var e=!1;return e=m&&U()-m<=u.fingerReleaseThreshold?!0:e}function I(e){!0===e?(o.bind(n,L),o.bind(i,j),r&&o.bind(r,_)):(o.unbind(n,L,!1),o.unbind(i,j,!1),r&&o.unbind(r,_,!1)),o.data(Re+"_intouch",!0===e)}function ee(e,t){var n=void 0!==t.identifier?t.identifier:0;S[e].identifier=n,S[e].start.x=S[e].end.x=t.pageX||t.clientX,S[e].start.y=S[e].end.y=t.pageY||t.clientY,S[e]}function te(e){var t=function(e){for(var t=0;t<S.length;t++)if(S[t].identifier==e)return S[t]}(void 0!==e.identifier?e.identifier:0);return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function ne(e){if(v[e])return v[e].distance}function N(e){return{direction:e,distance:0}}function ie(){return E-a}function re(e,t){var n=Math.abs(e.x-t.x),e=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+e*e))}function U(){return(new Date).getTime()}this.enable=function(){return o.bind(t,P),o.bind(l,D),o},this.disable=function(){return Q(),o},this.destroy=function(){return Q(),o.data(Re,null),o},this.option=function(e,t){if(void 0!==u[e]){if(void 0===t)return u[e];u[e]=t}else le.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}le.fn.swipe=function(e){var t=le(this),n=t.data(Re);if(n&&"string"==typeof e){if(n[e])return n[e].apply(this,Array.prototype.slice.call(arguments,1));le.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(n||"object"!=typeof e&&e))return function(n){!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=pe);void 0!==n.click&&void 0===n.tap&&(n.tap=n.click);n=n||{};return n=le.extend({},le.fn.swipe.defaults,n),this.each(function(){var e,t=le(this);t.data(Re)||(e=new i(this,n),t.data(Re,e))})}.apply(this,arguments);return t},le.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"},le.fn.swipe.phases={PHASE_START:ye,PHASE_MOVE:Oe,PHASE_END:xe,PHASE_CANCEL:Me},le.fn.swipe.directions={LEFT:oe,RIGHT:ae,UP:ue,DOWN:se,IN:ce,OUT:he},le.fn.swipe.pageScroll={NONE:pe,HORIZONTAL:be,VERTICAL:Se,AUTO:de},le.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:Ee}});