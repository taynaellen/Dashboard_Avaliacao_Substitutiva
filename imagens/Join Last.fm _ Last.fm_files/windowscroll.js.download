define(["jquery"],function(o){var c={use:!1,win_h:0,scrolled_y:0,visible_y:0,start:function(){0==c.use&&(c.use=!0,o(window).on("scroll",c.scroll_pos))},stop:function(){1==c.use&&(c.use=!1,o(window).off("scroll",c.scroll_pos))},reset:function(){c.stop(),c.functions={}},scroll_pos:function(){if(1==c.use)for(var n in c.win_h=o(window).height(),c.scrolled_y=o(window).scrollTop(),c.visible_y=c.scrolled_y+c.win_h,c.functions)0==c.functions[n].done&&c.visible_y>=c.functions[n].pos&&(c.functions[n].func(),c.functions[n].done=!0),0==c.functions[n].paused&&void 0!==c.functions[n].pause_func&&(c.visible_y<c.functions[n].pause_top||c.scrolled_y>c.functions[n].pause_bottom)&&(c.functions[n].paused=!0,c.functions[n].pause_func()),1==c.functions[n].paused&&void 0!==c.functions[n].resume_func&&c.visible_y>=c.functions[n].pause_top&&c.scrolled_y<=c.functions[n].pause_bottom&&(c.functions[n].paused=!1,c.functions[n].resume_func())},functions:{},add:function(n,o,s,u,t,e,i){void 0===c.functions[n]&&(c.functions[n]={name:n,pos:o,func:s,pause_top:u,pause_bottom:t,pause_func:e,resume_func:i,done:!1,paused:!1},c.start(),c.scroll_pos())},update_pos:function(n,o,s,u){void 0!==c.functions[n]&&(c.functions[n].pos=o,c.functions[n].pause_top=s,c.functions[n].pause_bottom=u)},remove:function(n){void 0!==c.functions[n]&&delete c.functions[n]},done:function(n){return void 0!==c.functions[n]&&c.functions[n].done}};return{start:function(){c.start()},stop:function(){c.stop()},reset:function(){c.reset()},scrolled_y:function(){return c.scrolled_y},add:function(n,o,s,u,t,e,i){c.add(n,o,s,u,t,e,i)},update_pos:function(n,o,s,u){c.update_pos(n,o,s,u)},remove:function(n){c.remove(n)},done:function(n){return c.done(n)}}});